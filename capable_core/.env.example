# CapAble Core Foundry Environment Configuration
# =======================================
# Copy this file to .env and fill in your values

# ===== REQUIRED =====

# GitHub Personal Access Token
# Required scopes: repo, workflow
GITHUB_TOKEN=ghp_your_token_here

# ===== MODEL PROVIDERS =====

# GitHub Models API Key (for LiteLLM integration)
# Create a PAT with 'models:read' permission at: https://github.com/settings/tokens
# Supports: Claude 3.5 Sonnet, GPT-4o, Llama models, and more
GITHUB_API_KEY=github_pat_your_token_here

# Hugging Face API Key (for Hugging Face models via LiteLLM)
# Get from: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=hf_your_token_here

# ===== GOOGLE AI CONFIGURATION =====
# Choose ONE: Vertex AI (recommended) OR Google AI API

# OPTION 1: Vertex AI (for gemini-3.0-pro and newer models)
# ---------------------------------------------------------
# 1. Set your GCP project ID below
# 2. Run: gcloud auth application-default login
# 3. Ensure Vertex AI API is enabled in your project
GOOGLE_GENAI_USE_VERTEXAI=true
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
GOOGLE_CLOUD_LOCATION=global

# OPTION 2: Google AI API (for older models like gemini-2.5-pro)
# --------------------------------------------------------------
# Comment out the Vertex AI vars above and use API key instead
# GOOGLE_API_KEY=your_google_api_key_here

# ===== AGENT CONFIGURATION =====

# Maximum iterations for developer self-correction loop
AGENT_DEV_MAX_ITERATIONS=5

# Maximum iterations for QA verification loop
AGENT_QA_MAX_ITERATIONS=4

# CI polling interval in seconds
AGENT_CI_POLL_INTERVAL=30

# CI timeout in seconds
AGENT_CI_TIMEOUT=600

# ===== QUALITY GATES =====

# Minimum test coverage percentage
AGENT_MIN_COVERAGE_PERCENT=80.0

# Maximum surviving mutants allowed
AGENT_MAX_SURVIVING_MUTANTS=5

# ===== SANDBOX CONFIGURATION =====

# Default Docker image for sandbox execution
SANDBOX_DEFAULT_IMAGE=python:3.11-slim

# Sandbox container timeout in seconds
SANDBOX_TIMEOUT=300

# Sandbox memory limit
SANDBOX_MEMORY_LIMIT=512m

# Sandbox CPU limit (1.0 = 1 CPU)
SANDBOX_CPU_LIMIT=1.0

# ===== PARALLEL MODE =====

# Enable parallel issue processing (multiple issues at once)
FOUNDRY_PARALLEL_MODE=true

# Maximum number of parallel workers (each handles one issue)
FOUNDRY_MAX_WORKERS=3
